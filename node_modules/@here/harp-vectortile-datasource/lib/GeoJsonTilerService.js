"use strict";
/*
 * Copyright (C) 2017-2020 HERE Europe B.V.
 * Licensed under Apache 2.0, see full license in LICENSE
 * SPDX-License-Identifier: Apache-2.0
 */
Object.defineProperty(exports, "__esModule", { value: true });
exports.GeoJsonTilerService = void 0;
const index_worker_1 = require("@here/harp-mapview-decoder/index-worker");
const OmvDecoderDefs_1 = require("./OmvDecoderDefs");
/**
 * GeoJson tiler service.
 *
 * @remarks
 * This services instantiates the geojson-vt based tiler
 * service that is responsible to create small tiles from
 * large GeoJson datasets.
 *
 * @example
 * ```typescript
 * // decoder.ts
 * GeoJsonTilerService.start();
 * ```
 */
class GeoJsonTilerService {
    /**
     * Register a vector data tiler service with
     * {@link @here/harp-mapview-decoder#WorkerServiceManager}.
     *
     * @remarks
     * Has to be called during initialization of decoder bundle.
     */
    static start() {
        index_worker_1.WorkerServiceManager.getInstance().register({
            serviceType: OmvDecoderDefs_1.GEOJSON_TILER_SERVICE_TYPE,
            factory: (serviceId) => index_worker_1.TilerService.start(serviceId)
        });
    }
}
exports.GeoJsonTilerService = GeoJsonTilerService;
//# sourceMappingURL=GeoJsonTilerService.js.map