import { DecodedTile, GeometryKind, GeometryKindSet, IndexedTechnique, TextPathGeometry } from "@here/harp-datasource-protocol";
import { GeoBox, Projection } from "@here/harp-geoutils";
import * as THREE from "three";
import { MapObjectAdapterParams } from "../MapObjectAdapter";
import { Tile } from "../Tile";
export interface TileCorners {
    se: THREE.Vector3;
    sw: THREE.Vector3;
    ne: THREE.Vector3;
    nw: THREE.Vector3;
}
/**
 * Parameters that control fading.
 */
export interface FadingParameters {
    fadeNear?: number;
    fadeFar?: number;
}
/**
 * Parameters that control fading for extruded buildings with fading edges.
 */
export interface PolygonFadingParameters extends FadingParameters {
    color?: string | number;
    colorMix?: number;
    lineFadeNear?: number;
    lineFadeFar?: number;
}
/**
 * Support class to create geometry for a {@link Tile} from a {@link @here/harp-datasource-protocol#DecodedTile}.
 */
export declare class TileGeometryCreator {
    private static m_instance;
    /**
     * The `instance` of the `TileGeometryCreator`.
     *
     * @returns TileGeometryCreator
     */
    static get instance(): TileGeometryCreator;
    /**
     *  Creates an instance of TileGeometryCreator. Access is allowed only through `instance`.
     */
    private constructor();
    /**
     * Apply `enabledKinds` and `disabledKinds` to all techniques in the `decodedTile`. If a
     * technique is identified as disabled, its property `enabled` is set to `false`.
     *
     * @param decodedTile - The decodedTile containing the actual tile map data.
     * @param enabledKinds - Optional [[GeometryKindSet]] used to specify which object kinds should be
     *      created.
     * @param disabledKinds - Optional [[GeometryKindSet]] used to filter objects that should not be
     *      created.
     */
    initDecodedTile(decodedTile: DecodedTile, enabledKinds?: GeometryKindSet | undefined, disabledKinds?: GeometryKindSet | undefined): void;
    /**
     * Called after the `Tile` has been decoded. It is required to call `initDecodedTile` before
     * calling this method.
     *
     * @see [[TileGeometryCreator#initDecodedTile]]
     *
     * @param tile - The {@link Tile} to process.
     * @param decodedTile - The decodedTile containing the actual tile map data.
     */
    createAllGeometries(tile: Tile, decodedTile: DecodedTile): void;
    createLabelRejectionElements(tile: Tile, decodedTile: DecodedTile): void;
    /**
     * Processes the given tile and assign default values for geometry kinds,
     * render orders and label priorities.
     *
     * @param {Tile} tile
     * @param {(GeometryKindSet | undefined)} enabledKinds
     * @param {(GeometryKindSet | undefined)} disabledKinds
     */
    processTechniques(tile: Tile, enabledKinds: GeometryKindSet | undefined, disabledKinds: GeometryKindSet | undefined): void;
    /**
     * Adds a THREE object to the root of the tile and register [[MapObjectAdapter]].
     *
     * Sets the owning tiles datasource.name and the `tileKey` in the `userData` property of the
     * object, such that the tile it belongs to can be identified during picking.
     *
     * @param tile - The {@link Tile} to add the object to.
     * @param object - The object to add to the root of the tile.
     * @param geometryKind - The kind of object. Can be used for filtering.
     * @param mapAdapterParams - additional parameters for [[MapObjectAdapter]]
     */
    registerTileObject(tile: Tile, object: THREE.Object3D, geometryKind: GeometryKind | GeometryKindSet | undefined, mapAdapterParams?: MapObjectAdapterParams): void;
    /**
     * Splits the text paths that contain sharp corners.
     *
     * @param tile - The {@link Tile} to process paths on.
     * @param textPathGeometries - The original path geometries that may have defects.
     * @param textFilter -: Optional filter. Should return true for any text technique that is
     *      applicable.
     */
    prepareTextPaths(textPathGeometries: TextPathGeometry[], decodedTile: DecodedTile, textFilter?: (technique: IndexedTechnique) => boolean): TextPathGeometry[];
    /**
     * Creates {@link TextElement} objects from the decoded tile and list of materials specified. The
     * priorities of the {@link TextElement}s are updated to simplify label placement.
     *
     * @param tile - The {@link Tile} to create the testElements on.
     * @param decodedTile - The {@link @here/harp-datasource-protocol#DecodedTile}.
     * @param textFilter -: Optional filter. Should return true for any text technique that is
     *      applicable.
     */
    createTextElements(tile: Tile, decodedTile: DecodedTile, textFilter?: (technique: IndexedTechnique) => boolean): void;
    /**
     * Creates `Tile` objects from the decoded tile and list of materials specified.
     *
     * @param tile - The {@link Tile} to create the geometry on.
     * @param decodedTile - The {@link @here/harp-datasource-protocol#DecodedTile}.
     * @param techniqueFilter -: Optional filter. Should return true for any technique that is
     *      applicable.
     */
    createObjects(tile: Tile, decodedTile: DecodedTile, techniqueFilter?: (technique: IndexedTechnique) => boolean): void;
    /**
     * Prepare the {@link Tile}s pois. Uses the {@link PoiManager} in {@link MapView}.
     */
    preparePois(tile: Tile, decodedTile: DecodedTile): void;
    /**
     * Create a ground plane mesh for a tile
     * @param tile - Tile
     * @param material - Material
     * @param createTexCoords - Enable creation of texture coordinates
     */
    createGroundPlane(tile: Tile, material: THREE.Material | THREE.Material[], createTexCoords: boolean, shadowsEnabled?: boolean): THREE.Mesh;
    generateTilePlaneCorners(geoBox: GeoBox, sourceProjection: Projection): TileCorners;
    /**
     * Creates and add a background plane for the tile.
     * @param tile - Tile
     * @param renderOrder - Render order of the tile
     */
    addGroundPlane(tile: Tile, renderOrder: number): void;
    private createGroundPlaneMaterial;
    /**
     * Gets the attachments of the given {@link @here/harp-datasource-protocol#DecodedTile}.
     *
     * @param decodedTile - The {@link @here/harp-datasource-protocol#DecodedTile}.
     */
    private getAttachments;
    private setupTerrainMaterial;
    private addUserData;
    /**
     * Gets the fading parameters for several kinds of objects.
     */
    private getFadingParams;
    /**
     * Gets the fading parameters for several kinds of objects.
     */
    private getPolygonFadingParams;
}
//# sourceMappingURL=TileGeometryCreator.d.ts.map